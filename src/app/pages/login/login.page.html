<ion-content class="ion-padding">
    <div class="d-flex" style="flex-direction: column; height: 100%">
        <div class="d-flex ion-justify-content-center">
            <app-logo size="sm"></app-logo>
        </div>
        <div
            class="d-flex ion-justify-content-center ion-align-items-center"
            style="height: 100%"
        >
            <div style="width: 100%">
                <h4 class="ion-text-center ion-margin-bottom">
                    <ng-container *ngIf="showForm == 'username'">
                        Bienvenido Usuario
                    </ng-container>
                    <ng-container *ngIf="showForm == 'password'">
                        Hola {{username}}
                    </ng-container>
                </h4>

                <h5 class="ion-text-center ion-margin-bottom">
                    <ion-text color="primary"> Ingresa a tu cuenta </ion-text>
                </h5>

                <form
                    *ngIf="showForm == 'username'"
                    [formGroup]="usernameForm"
                    (ngSubmit)="onUsernameFormSubmit()"
                >
                    <div id="usernameInput" class="ion-margin-bottom">
                        <ion-item>
                            <ion-label position="floating"
                                >Nombre de usuario</ion-label
                            >
                            <ion-input
                                placeholder="Ingresa tu nombre de usuario"
                                formControlName="username"
                            ></ion-input>
                        </ion-item>
                        <app-form-control-error
                            class="ion-padding-start"
                            [formGroup]="usernameForm"
                            formControlNamex="username"
                            [messages]="usernameValidationMessages"
                        ></app-form-control-error>
                    </div>

                    <div
                        class="d-flex ion-justify-content-center ion-margin-bottom"
                    >
                        <ion-button
                            [disabled]="!usernameForm.valid"
                            color="primary"
                            (click)="onUsernameFormSubmit()"
                        >
                            Iniciar Sesi칩n
                        </ion-button>
                    </div>
                    <div
                        class="d-flex ion-justify-content-center ion-margin-bottom"
                    >
                        <ion-button
                            color="primary"
                            (click)="onSignUpClicked()"
                            fill="outline"
                        >
                            Registrarme
                        </ion-button>
                    </div>
                </form>

                <form
                    *ngIf="showForm == 'password'"
                    [formGroup]="passwordForm"
                    (ngSubmit)="onPasswordFormSubmit()"
                >
                    <div id="passwordInput" class="ion-margin-bottom">
                        <ion-item>
                            <ion-label position="floating"
                                >Contrase침a</ion-label
                            >
                            <ion-input
                                placeholder="Ingresa tu contrase침a"
                                formControlName="password"
                            ></ion-input>
                        </ion-item>
                        <app-form-control-error
                            class="ion-padding-start"
                            [formGroup]="passwordForm"
                            formControlNamex="password"
                            [messages]="passwordValidationMessages"
                        ></app-form-control-error>
                    </div>

                    <div
                        class="d-flex ion-justify-content-center ion-margin-bottom"
                    >
                        <ion-button
                            [disabled]="!passwordForm.valid"
                            color="primary"
                            (click)="onPasswordFormSubmit()"
                        >
                            Ingresar
                        </ion-button>
                    </div>
                    <div class="d-flex ion-justify-content-center">
                        <ion-button
                            color="primary"
                            fill="outline"
                            (click)="onBackClicked()"
                        >
                            Atr치s
                        </ion-button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</ion-content>
